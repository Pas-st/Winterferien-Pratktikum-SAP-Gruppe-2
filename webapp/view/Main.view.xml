<mvc:View
    controllerName="my.app.controller.Main"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:core="sap.ui.core">

    <SplitContainer id="mainSplit">

        <!-- LINKES MENÜ -->
        <masterPages>
            <Page title="Finanzübersicht">
                <List mode="SingleSelectMaster" select="onMenuSelect">
                    <StandardListItem title="Dashboard" type="Active" />
                    <StandardListItem title="Transaktionen" type="Active" />
                    <StandardListItem title="Berichte" type="Active" />
                </List>
            </Page>
        </masterPages>

        <!-- RECHTER INHALT -->
        <detailPages>
            <!-- Wichtig: kein Scrollen; Hintergrund transparent; Klasse für CSS-Zielsetzung -->
            <Page
                id="chartPage"
                title="Dashboard"
                enableScrolling="false"
                backgroundDesign="Transparent"
                class="sapUiResponsiveContentPadding noUnderlay noScroll">

                <headerContent>
                    <Select
                        id="viewSelect"
                        change="onViewChange"
                        selectedKey="quarterly">
                        <core:Item key="quarterly" text="Quartalsansicht" />
                        <core:Item key="yearly" text="Jahresansicht" />
                        <core:Item key="total" text="Gesamtansicht" />
                    </Select>
                </headerContent>

                <content>
                    <!-- Eine einzige Card mit KPI-Zeile + Chart + Legende -->
                    <Panel
                        id="chartPanel"
                        width="100%"
                        backgroundDesign="Transparent"
                        class="chartCard sapUiMediumMargin">

                        <!-- KPI- und Canvas-HTML wird via JS gesetzt -->
                        <core:HTML id="chartContainer" sanitizeContent="false" />
                    </Panel>
                </content>
            </Page>
        </detailPages>

    </SplitContainer>
</mvc:View>
